<div class="d-flex justify-content-center align-items-center vh-100 bg-light">
  <div class="col-md-6">
    <div class="card shadow-lg p-4 border-0">
      <img src="./../../../../../public/cni.png" alt="Logo" class="mb-3 text-center style=width: 100px; height: auto;">
      <h2 class="text-center mb-3">Login to Your Account</h2>

      <!-- General Error Message -->
      <div *ngIf="errorMessage" class="alert alert-danger text-center">{{ errorMessage }}</div>

      <form #loginForm="ngForm" (ngSubmit)="onLogin()">
        <!-- Email Input -->
        <div class="mb-3">
          <label>Email</label>
          <div class="input-group">
            <span class="input-group-text"><i class="bi bi-envelope"></i></span>
            <input 
              type="email" 
              name="email" 
              class="form-control" 
              placeholder="Enter your email" 
              [(ngModel)]="user.email" 
              #emailInput="ngModel"
              required>
          </div>
          <div *ngIf="emailInput.invalid && emailInput.touched" class="text-danger">
            Email is required!
          </div>
        </div>

        <!-- Password Input with Toggle -->
        <div class="mb-3">
          <label>Password</label>
          <div class="input-group">
            <input 
              [type]="showPassword ? 'text' : 'password'" 
              name="password" 
              class="form-control" 
              placeholder="Enter your password" 
              [(ngModel)]="user.password"
              #passwordInput="ngModel"
              required>
            <button type="button" class="btn btn-light " (click)="showPassword = !showPassword">
              <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
            </button>
          </div>
          <div *ngIf="passwordInput.invalid && passwordInput.touched" class="text-danger">
            Password is required!
          </div>
        </div>

        <!-- CAPTCHA Section -->
        <div class="captcha-container text-center">
          <canvas #captchaCanvas width="150" height="50"></canvas>
          <button type="button" class="btn btn-light ms-2" (click)="generateCaptcha()">
            <i class="bi bi-arrow-clockwise"></i>
          </button>
        </div>

        <div class="text-center mt-2">
          <input 
            type="text" 
            name="captcha" 
            class="form-control text-center" 
            placeholder="Enter CAPTCHA" 
            [(ngModel)]="userInput" 
            required>
        </div>

        <button class="btn btn-primary w-100 mt-3" type="submit">
          Login <i class="bi bi-arrow-right"></i>
        </button>
      </form>

      <p class="text-center mt-3">
        <i class="bi bi-person-plus"></i> Don't have an account? <a [routerLink]="'/auth/register'">Register here</a>
      </p>
    </div>
  </div>
</div>

<!-- Footer with 5 Wave Effect -->
<div class="wave-footer">
  <svg viewBox="0 0 1440 320">
    <path fill="#0099ff" fill-opacity="1" d="M0,160L48,144C96,128,192,96,288,112C384,128,480,192,576,208C672,224,768,192,864,149.3C960,107,1056,53,1152,48C1248,43,1344,85,1392,106.7L1440,128V320H0Z"></path>
    <path fill="#007acc" fill-opacity="0.8" d="M0,224L48,208C96,192,192,160,288,170.7C384,181,480,235,576,240C672,245,768,203,864,165.3C960,128,1056,96,1152,101.3C1248,107,1344,149,1392,170.7L1440,192V320H0Z"></path>
    <path fill="#005fa3" fill-opacity="0.6" d="M0,288L48,272C96,256,192,224,288,218.7C384,213,480,235,576,245.3C672,256,768,256,864,240C960,224,1056,192,1152,181.3C1248,171,1344,181,1392,186.7L1440,192V320H0Z"></path>
    <path fill="#00407a" fill-opacity="0.4" d="M0,320L48,298.7C96,277,192,235,288,224C384,213,480,235,576,245.3C672,256,768,256,864,256C960,256,1056,256,1152,261.3C1248,267,1344,277,1392,282.7L1440,288V320H0Z"></path>
    <path fill="#00204a" fill-opacity="0.2" d="M0,320L48,314.7C96,309,192,298,288,293.3C384,288,480,288,576,293.3C672,299,768,309,864,309.3C960,309,1056,299,1152,298.7C1248,299,1344,309,1392,314.7L1440,320V320H0Z"></path>
  </svg>
</div>