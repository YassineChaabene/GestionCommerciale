<div class="container mt-4">
    <!-- Back Button -->
    <div class="button-group">
      <button routerLink="/factures" class="btn btn-secondary back-button">⬅ Back</button>
    </div>
  
    <!-- Success & Error Messages -->
    <div *ngIf="successMessage" class="alert alert-success" role="alert">
      {{ successMessage }}
    </div>
    <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
      {{ errorMessage }}
    </div>
  
    <h2>Update Facture</h2>
    <form [formGroup]="factureForm" (ngSubmit)="updateFacture()">
      <!-- Reference Field -->
      <div class="form-group">
        <label for="reference">Reference</label>
        <input id="reference" class="form-control" formControlName="reference" />
        <div *ngIf="factureForm.get('reference')?.invalid && factureForm.get('reference')?.touched" class="text-danger">
          Reference is required.
        </div>
      </div>
  
      <!-- Date Emission Field -->
      <div class="form-group">
        <label for="dateEmission">Date Emission</label>
        <input type="date" id="dateEmission" class="form-control" formControlName="dateEmission" />
        <div *ngIf="factureForm.get('dateEmission')?.invalid && factureForm.get('dateEmission')?.touched" class="text-danger">
          Date Emission is required.
        </div>
      </div>
  
      <!-- Date Échéance Field -->
      <div class="form-group">
        <label for="dateEcheance">Date Échéance</label>
        <input type="date" id="dateEcheance" class="form-control" formControlName="dateEcheance" />
        <div *ngIf="factureForm.get('dateEcheance')?.invalid && factureForm.get('dateEcheance')?.touched" class="text-danger">
          Date Échéance is required.
        </div>
      </div>
  
      <!-- Montant Field -->
      <div class="form-group">
        <label for="montant">Montant Totale</label>
        <input type="number" id="montant" class="form-control" formControlName="montant" />
        <div *ngIf="factureForm.get('montant')?.invalid && factureForm.get('montant')?.touched" class="text-danger">
          Montant Totale is required.
        </div>
      </div>
  
      <!-- Status Field -->
      <div class="form-group">
        <label for="status">Statut</label>
        <select id="status" class="form-select" formControlName="status">
          <option value="Payée">Payée</option>
          <option value="Impayée">Impayée</option>
          <option value="en attente">En attente</option>
          <option value="en retard">En retard</option>
        </select>
      </div>
  
      <!-- Convention Dropdown -->
      <div class="form-group">
        <label for="conventionUuid">Code Convention</label>
        <select id="conventionUuid" class="form-select" formControlName="conventionUuid">
          <option value="" disabled>Select a convention</option>
          <option *ngFor="let conv of conventions" [value]="conv.uuid">{{ conv.code }}</option>
        </select>
        <div *ngIf="factureForm.get('conventionUuid')?.invalid && factureForm.get('conventionUuid')?.touched" class="text-danger">
          Convention is required.
        </div>
      </div>
  
      <!-- Action Buttons -->
      <div class="down">
        <button type="submit" class="btn btn-success" [disabled]="factureForm.invalid">Update Facture</button>
        <button type="reset" class="btn btn-danger">Reset</button>
      </div>
    </form>
  </div>
  